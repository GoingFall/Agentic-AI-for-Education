# Agentic AI for Science & Engineering Education - 需求规格说明

## 1. 概述

### 1.1 项目目标
开发一个面向科学与工程教育的智能AI助手，专注于《信号与系统》课程的答疑和练习推荐功能。该系统将参加hackAstone赛事（Agentic AI for Education），目标是在一周内完成可演示的核心版本。

### 1.2 项目约束
- **时间约束**：一周内完成核心可演示版本
- **展示要求**：15分钟现场演示 + 8分钟项目视频
- **技术栈**：RAG + 知识图谱 + Agent Skills
- **数据范围**：MIT OCW《信号与系统》课程材料

### 1.3 术语定义
- **RAG**：检索增强生成，基于课程材料检索相关内容并生成回答
- **Agent**：智能代理，能够自主决策调用不同工具完成任务
- **Skill**：可插拔的功能模块，定义特定任务的执行流程
- **知识图谱**：存储知识点及其先修关系的图结构数据库

## 2. 功能需求

### 2.1 主场景功能（首版必做）

#### 2.1.1 智能答疑功能
**用户故事**：作为学生，我希望能够用自然语言提问概念、解题思路、实验步骤等问题，并获得基于权威教材的准确回答和引用来源。

**验收标准**：
- [ ] 支持自然语言输入问题
- [ ] 基于课程权威材料生成回答
- [ ] 回答必须包含引用来源（章节/页码）
- [ ] 优先提供概念解释和推理过程
- [ ] 支持苏格拉底式追问（可选交互原则）

#### 2.1.2 练习推荐功能
**用户故事**：作为学生，我希望系统能够根据当前学习进度和知识点掌握情况，推荐合适的下一步学习内容或练习题目。

**验收标准**：
- [ ] 基于知识图谱分析先修关系
- [ ] 提供个性化的学习路径推荐
- [ ] 推荐结果包含理由说明
- [ ] 支持练习题目推荐
- [ ] 推荐内容与当前知识点相关

**双Skill协同行为**：
当用户问题同时包含概念询问和推荐请求意图时，系统采用合并回答策略：
- 先提供答疑内容和引用来源
- 再提供推荐内容和推荐理由
- 保持回答的连贯性和完整性

#### 2.1.3 多轮对话支持
**用户故事**：作为学生，我希望能够与系统进行连续的多轮对话，系统能够记住上下文并提供连贯的回答。

**验收标准**：
- [ ] 支持同一会话内的多轮对话
- [ ] 保持对话上下文和历史记录
- [ ] 支持多个独立会话（session_id区分）
- [ ] 匿名使用，无需注册登录

### 2.2 可选功能（时间允许再做）

#### 2.2.1 知识框架展示
**用户故事**：作为学生，我希望能够查看课程的整体知识框架，了解章节目录和知识点之间的先修关系。

**验收标准**：
- [ ] 展示课程章节目录结构
- [ ] 显示知识点之间的先修关系
- [ ] 支持交互式知识图谱浏览
- [ ] 提供学习路径可视化

#### 2.2.2 学情分析
**用户故事**：作为学生，我希望系统能够分析我的学习情况，总结常问问题类型和薄弱知识点。

**验收标准**：
- [ ] 统计用户提问的知识点分布
- [ ] 识别薄弱知识点
- [ ] 提供学习建议和改进方向
- [ ] 生成个性化学习报告

### 2.3 首版不包含的功能

以下功能明确不在首版范围内，留作后续扩展：
- 多课程并行支持
- 成绩录入和教务系统集成
- LMS深度集成
- 用户注册和账号体系
- 实时协作功能

## 3. 技术需求

### 3.1 系统架构要求
- 采用单Agent + 工具调用架构
- 基于LangChain实现Agent运行时
- 使用OpenRouter API调用LLM（模型：openai/gpt-oss-120b）
- 支持动态Skill加载和工具绑定

### 3.2 数据存储要求
- 向量数据库：使用Chroma存储文档切片
- 知识图谱：使用Neo4j存储知识点和关系
- 会话持久化：支持JSONL格式的对话历史存储

### 3.3 性能要求
- 单轮对话响应时间 < 60秒
- 支持并发用户访问（演示场景）
- 系统可用性 > 95%（演示期间）

### 3.4 安全要求
- 仅使用脱敏或样例数据
- 不接入真实教务系统或成绩数据
- 严格限制可执行范围（仅只读工具）
- API访问需要适当的错误处理和超时机制

## 4. 用户界面需求

### 4.1 Web界面要求
- 使用Dash/Plotly构建演示界面
- 支持自然语言输入框
- 显示回答内容和引用来源
- 展示推荐结果和理由
- 提供会话历史查看功能

### 4.2 交互设计要求
- 界面简洁直观，适合演示
- 支持实时显示系统处理过程
- 提供Skill使用状态指示
- 支持会话分享和导出功能

## 5. 数据需求

### 5.1 课程数据
- 基于MIT OCW RES.6-007《信号与系统》课程
- 包含26讲lecture notes PDF
- 包含26份作业及答案PDF
- 支持中文回答（LLM翻译）

### 5.2 知识图谱数据
- 知识点列表及先修关系
- 难度和类型标签
- 习题与知识点的关联关系
- 支持后续扩展认知诊断字段

## 6. 集成需求

### 6.1 外部服务集成
- OpenRouter API集成
- 支持模型失败时的降级策略
- 错误处理和重试机制

### 6.2 内部组件集成
- RAG检索与知识图谱查询的协同
- Skill动态加载和工具绑定
- 会话管理和上下文压缩

## 7. 验收标准

### 7.1 功能验收
系统必须通过以下测试用例：

1. **概念答疑测试**
   - 输入："什么是傅里叶变换？"
   - 预期：包含概念解释和教材引用的回答

2. **解题指导测试**
   - 输入："如何计算信号的频谱？"
   - 预期：包含步骤说明和相关公式引用

3. **练习推荐测试**
   - 输入："我想练习傅里叶变换相关的题目"
   - 预期：推荐相关练习并说明理由

4. **双Skill协同测试**
   - 输入："傅里叶变换是什么？有什么相关的练习可以做？"
   - 预期：先提供概念解释和引用，再提供练习推荐和理由

5. **多轮对话测试**
   - 连续提问相关问题
   - 预期：保持上下文连贯性

6. **边界情况测试**
   - 输入超出课程范围的问题
   - 预期：礼貌说明并建议重新表述

### 7.2 性能验收
- 响应时间测试：95%的请求在60秒内完成
- 并发测试：支持至少10个并发用户
- 稳定性测试：连续运行2小时无崩溃

### 7.3 演示验收
- 15分钟现场演示流畅完成
- 8分钟项目视频制作完成
- 展示Skill可插拔特性
- 演示RAG引用和推荐功能

## 8. 风险与缓解策略

### 8.1 技术风险
- **风险**：一周内无法完成完整功能
- **缓解**：优先保证答疑+引用闭环，推荐功能可用简化实现

### 8.2 数据风险
- **风险**：知识图谱构建成本高
- **缓解**：首版采用人工整理，重点展示推荐逻辑

### 8.3 演示风险
- **风险**：演示时服务不稳定
- **缓解**：准备录屏备用，确保本地环境可复现

## 9. 里程碑计划

### 第1天：方案确定
- [ ] 技术方案和数据范围锁定
- [ ] 开发环境搭建完成

### 第2-3天：知识层构建
- [ ] RAG管道搭建完成
- [ ] 知识图谱构建完成
- [ ] 数据预处理完成

### 第3-4天：Agent和Skill开发
- [ ] 答疑Skill开发完成
- [ ] 推荐练习Skill开发完成
- [ ] Agent端到端对话测试通过

### 第4-7天：演示和优化
- [ ] Web演示界面开发完成
- [ ] 演示脚本准备完成
- [ ] 项目视频制作完成

## 10. 后续扩展规划

### 6月前（半决赛提名）
- 多课程支持
- 高级学情分析
- 性能优化

### 7月前（正式提交）
- 完整项目文档
- 最终演示视频
- 系统稳定性优化

### 后续迭代
- 硬件平台扩展（教育单片机）
- MCP服务集成
- 认知诊断功能