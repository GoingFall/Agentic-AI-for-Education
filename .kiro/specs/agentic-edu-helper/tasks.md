# Agentic AI for Science & Engineering Education - 任务列表

## 1. 项目初始化和环境搭建 ✅

- [x] 1.1 创建项目目录结构
  - [x] 1.1.1 创建主要模块目录（src/, tests/, docs/, data/）
  - [x] 1.1.2 设置配置文件目录（config/）
  - [x] 1.1.3 创建技能目录（skills/）
- [x] 1.2 环境配置和依赖管理
  - [x] 1.2.1 配置conda环境（agent-edu）
  - [x] 1.2.2 安装核心依赖（LangChain, Chroma, Neo4j驱动等）
  - [x] 1.2.3 配置环境变量（.env文件）
- [x] 1.3 验证外部服务连接
  - [x] 1.3.1 测试OpenRouter API连接
  - [x] 1.3.2 验证Neo4j数据库连接
  - [x] 1.3.3 测试Chroma向量库初始化

## 2. 数据预处理和知识库构建（优先实现）

- [ ] 2.1 PDF文档预处理基础功能
  - [ ] 2.1.1 实现PDF到文本的转换功能
  - [x] 2.1.2 文本清洗和格式化
  - [x] 2.1.3 章节结构识别和标注
- [x] 2.2 现有数据分析和整理
  - [x] 2.2.1 分析现有128个PDF文档的结构和内容
  - [x] 2.2.2 基于content_map.json建立文档索引
  - [x] 2.2.3 识别讲义、作业、答案的分类和关联关系
  - [x] 2.2.4 优先处理前5个讲义作为初始数据集
- [x] 2.3 文档切片和向量化
  - [x] 2.3.1 实现智能文档切片算法
  - [x] 2.3.2 为每个切片添加元数据标注（基于现有data.json）
  - [x] 2.3.3 生成文档向量并存储到Chroma
- [x] 2.4 知识图谱构建
  - [x] 2.4.1 基础结构图谱构建（最小可行版本）
    - [x] 2.4.1.1 从课程大纲创建Topic节点（讲义）和Exercise节点（作业）
    - [x] 2.4.1.2 建立按讲次顺序的PREREQUISITE关系（lec01→lec02→...）
    - [x] 2.4.1.3 建立讲义-作业对应的COVERS关系（lec0i覆盖hw0i）
    - [x] 2.4.1.4 将基础图谱数据导入Neo4j
  - [x] 2.4.2 概念抽取和细粒度关系构建（增强信息量）
    - [x] 2.4.2.1 从讲义内容中抽取核心概念（如：傅里叶变换、卷积、滤波器等）
    - [x] 2.4.2.2 识别概念之间的依赖关系（基于内容分析，非简单顺序）
    - [x] 2.4.2.3 建立讲义-概念的TEACHES关系
    - [x] 2.4.2.4 建立作业-概念的PRACTICES关系
    - [x] 2.4.2.5 创建概念间的DEPENDS_ON关系（细粒度先修）
  - [x] 2.4.3 图谱验证和优化
    - [x] 2.4.3.1 验证先修关系的合理性
    - [x] 2.4.3.2 检查概念覆盖的完整性
    - [x] 2.4.3.3 优化图谱查询性能

## 3. 数据扩展和优化（后续实现）

- [ ] 3.1 全量数据处理
  - [ ] 3.1.1 处理剩余的所有PDF文档
  - [ ] 3.1.2 建立完整的文档关联关系
  - [ ] 3.1.3 优化向量检索性能
- [x] 3.2 知识图谱完善和可视化
  - [x] 3.2.1 扩展概念节点覆盖范围到全部讲义
  - [x] 3.2.2 细化先修关系的权重和类型
  - [x] 3.2.3 添加难度等级和学习路径
  - [x] 3.2.4 实现章节切片的可视化展示
    - [x] 3.2.4.1 创建章节-切片的映射关系
    - [x] 3.2.4.2 展示每个讲义的章节结构
    - [x] 3.2.4.3 显示切片在知识图谱中的定位
- [x] 3.3 数据质量优化
  - [x] 3.3.1 实现重复内容检测和去重
  - [x] 3.3.2 优化文档切片策略（避免公式切断、保持语义完整性）
  - [x] 3.3.3 建立数据质量评估指标

## 4. 核心Agent系统开发

- [x] 4.1 Agent基础架构
  - [x] 4.1.1 实现基于LangChain的Agent核心
  - [x] 4.1.2 配置OpenRouter LLM集成
  - [x] 4.1.3 实现会话管理和上下文保持
- [x] 4.2 工具系统开发
  - [x] 4.2.1 实现RAG检索工具
    - [x] 4.2.1.1 文档检索功能
    - [x] 4.2.1.2 元数据过滤支持
    - [x] 4.2.1.3 检索结果排序和筛选
  - [x] 4.2.2 实现知识图谱查询工具
    - [x] 4.2.2.1 先修关系查询（PREREQUISITE：当前→下一步学什么）
    - [x] 4.2.2.2 推荐内容生成（基于COVERS关系推荐对应作业）
    - [x] 4.2.2.3 概念关联查询（基于TEACHES/PRACTICES关系）
    - [x] 4.2.2.4 学习路径验证（确保推荐不跳过先修）
- [x] 4.3 Skill系统开发
  - [x] 4.3.1 实现Skill加载和管理机制
  - [x] 4.3.2 实现Skill触发和选择逻辑
  - [x] 4.3.3 实现工具与Skill的绑定机制


## 5. 教育Skill实现

- [x] 5.1 答疑Skill开发
  - [x] 5.1.1 创建答疑Skill配置文件
  - [x] 5.1.2 实现问题理解和分类逻辑
  - [x] 5.1.3 实现基于RAG的答案生成
  - [x] 5.1.4 实现引用格式化功能
  - [x] 5.1.5 添加苏格拉底式追问支持（可选）
- [x] 5.2 推荐练习Skill开发
  - [x] 5.2.1 创建推荐Skill配置文件
  - [x] 5.2.2 实现基于知识图谱的推荐算法
    - [x] 5.2.2.1 基础推荐：按PREREQUISITE关系推荐下一讲
    - [x] 5.2.2.2 练习推荐：按COVERS关系推荐对应作业
    - [x] 5.2.2.3 概念推荐：基于DEPENDS_ON关系推荐相关概念（可选）
  - [x] 5.2.3 实现推荐理由生成
  - [x] 5.2.4 实现个性化推荐调整
- [x] 5.3 Skill协同机制
  - [x] 5.3.1 实现多Skill同时触发的处理逻辑
  - [x] 5.3.2 实现合并回答策略（先答疑后推荐）
  - [x] 5.3.3 实现Skill结果合并和格式化
  - [x] 5.3.4 添加Skill使用状态跟踪


## 6. Web界面开发

- [ ] 6.1 Dash应用基础框架
  - [ ] 6.1.1 创建Dash应用主框架
  - [ ] 6.1.2 设计响应式布局结构
  - [ ] 6.1.3 实现基础样式和主题
- [ ] 6.2 对话界面实现
  - [ ] 6.2.1 实现聊天消息显示组件
  - [ ] 6.2.2 实现用户输入框和发送功能
  - [ ] 6.2.3 实现实时状态显示（正在思考等）
- [ ] 6.3 结果展示功能
  - [ ] 6.3.1 实现引用来源的格式化显示
  - [ ] 6.3.2 实现推荐内容的卡片式展示
  - [ ] 6.3.3 实现Skill使用状态指示器
- [ ] 6.4 会话管理功能
  - [ ] 6.4.1 实现多会话标签页支持
  - [ ] 6.4.2 实现会话历史保存和加载
  - [ ] 6.4.3 实现会话分享和导出功能

## 7. API接口开发

- [x] 7.1 RESTful API实现
  - [x] 7.1.1 实现对话接口（POST /api/chat）
  - [x] 7.1.2 实现会话管理接口
  - [x] 7.1.3 实现系统状态查询接口
- [x] 7.2 错误处理和验证
  - [x] 7.2.1 实现输入验证和清理
  - [x] 7.2.2 实现统一错误响应格式
  - [x] 7.2.3 实现请求频率限制
- [x] 7.3 API文档和测试
  - [x] 7.3.1 生成API文档（OpenAPI/Swagger）
  - [x] 7.3.2 创建API测试用例
  - [x] 7.3.3 实现API性能监控


## 8. 测试和质量保证

- [ ] 8.1 单元测试
  - [ ] 8.1.1 编写数据预处理模块测试
  - [ ] 8.1.2 编写Agent核心功能测试
  - [ ] 8.1.3 编写Skill功能测试
  - [ ] 8.1.4 编写工具接口测试
- [ ] 8.2 集成测试
  - [ ] 8.2.1 端到端对话流程测试
  - [ ] 8.2.2 多Skill协同工作测试
  - [ ] 8.2.3 异常情况处理测试
- [ ] 8.3 属性基测试（Property-Based Testing）
  - [ ] 8.3.1 编写引用准确性属性测试
    - **验证**: 所有回答中的引用必须对应真实存在的课程材料
  - [ ] 8.3.2 编写推荐一致性属性测试
    - **验证**: 推荐的学习内容必须符合知识图谱中的先修关系
  - [ ] 8.3.3 编写会话连续性属性测试
    - **验证**: 同一会话内的多轮对话必须保持上下文一致性
  - [ ] 8.3.4 编写技能选择正确性属性测试
    - **验证**: 系统必须根据用户输入正确选择和触发相应的技能
- [ ] 8.4 性能测试
  - [ ] 8.4.1 响应时间基准测试
  - [ ] 8.4.2 并发用户压力测试
  - [ ] 8.4.3 内存和CPU使用监控

## 9. 演示准备和优化

- [ ] 9.1 演示脚本准备
  - [ ] 9.1.1 设计15分钟现场演示流程
  - [ ] 9.1.2 准备演示用例和测试数据
  - [ ] 9.1.3 创建演示环境和备用方案
- [ ] 9.2 项目视频制作
  - [ ] 9.2.1 编写8分钟视频脚本
  - [ ] 9.2.2 录制功能演示视频
  - [ ] 9.2.3 制作项目介绍和技术说明
- [ ] 9.3 文档完善
  - [ ] 9.3.1 完善用户使用手册
  - [ ] 9.3.2 编写技术文档和API说明
  - [ ] 9.3.3 准备项目展示材料

## 10. 部署和运维

- [ ] 10.1 部署环境准备
  - [ ] 10.1.1 配置生产环境服务器
  - [ ] 10.1.2 设置数据库和存储服务
  - [ ] 10.1.3 配置负载均衡和反向代理
- [ ] 10.2 应用部署
  - [ ] 10.2.1 创建Docker容器镜像
  - [ ] 10.2.2 配置容器编排（docker-compose）
  - [ ] 10.2.3 实现自动化部署脚本
- [ ] 10.3 监控和日志
  - [ ] 10.3.1 配置应用性能监控
  - [ ] 10.3.2 设置日志收集和分析
  - [ ] 10.3.3 实现健康检查和告警

## 11. 扩展功能开发（可选）

- [ ] 11.1 知识框架展示功能
  - [ ] 11.1.1 实现知识图谱可视化组件
    - [ ] 11.1.1.1 选择可视化库（Cytoscape.js/vis.js/D3.js）
    - [ ] 11.1.1.2 实现图谱数据的增量加载机制
    - [ ] 11.1.1.3 实现节点和边的分页查询（防止一次性加载全图）
    - [ ] 11.1.1.4 设置节点数量上限（如：单次最多显示50个节点）
  - [ ] 11.1.2 添加交互式图谱浏览功能
    - [ ] 11.1.2.1 实现节点点击展开（按需加载相邻节点）
    - [ ] 11.1.2.2 实现图谱缩放和平移控制
    - [ ] 11.1.2.3 实现节点搜索和高亮功能
    - [ ] 11.1.2.4 实现图谱过滤（按节点类型、关系类型）
  - [ ] 11.1.3 实现学习路径可视化
    - [ ] 11.1.3.1 高亮显示当前学习位置
    - [ ] 11.1.3.2 展示推荐的下一步学习路径
    - [ ] 11.1.3.3 显示已完成和未完成的节点状态
  - [ ] 11.1.4 内存优化和性能控制
    - [ ] 11.1.4.1 实现虚拟滚动和视口裁剪
    - [ ] 11.1.4.2 限制同时渲染的节点数量
    - [ ] 11.1.4.3 实现节点缓存和懒加载策略
    - [ ] 11.1.4.4 添加内存使用监控和告警
- [ ] 11.2 学情分析功能
  - [ ] 11.2.1 实现用户问题统计分析
  - [ ] 11.2.2 识别薄弱知识点算法
  - [ ] 11.2.3 生成个性化学习报告
- [ ] 11.3 高级交互功能
  - [ ] 11.3.1 实现语音输入支持
  - [ ] 11.3.2 添加图片和公式识别
  - [ ] 11.3.3 支持多模态内容展示

## 12. 后续迭代规划

- [ ] 12.1 多课程支持
  - [ ] 12.1.1 设计多课程数据模型
  - [ ] 12.1.2 实现课程切换机制
  - [ ] 12.1.3 支持跨课程知识关联
- [ ] 12.2 硬件平台扩展
  - [ ] 12.2.1 设计硬件接口协议
  - [ ] 12.2.2 实现教育单片机客户端
  - [ ] 12.2.3 优化边缘计算性能
- [ ] 12.3 高级AI功能
  - [ ] 12.3.1 集成更多LLM模型选择
  - [ ] 12.3.2 实现自适应学习算法
  - [ ] 12.3.3 添加认知诊断功能

## 任务优先级说明

**P0 (必须完成 - 核心功能)**：
- 任务1 ✅：项目初始化和环境搭建（已完成）
- 任务2 ✅：数据预处理和知识库构建（已完成，2.1.1 PDF→文本本阶段跳过、使用 results/*.md）
- 任务4：核心Agent系统开发
- 任务5.1-5.3：教育Skill实现（答疑、推荐、协同机制）
- 任务6.1-6.2：Web界面基础框架和对话界面
- 任务8.1：基础单元测试

**P1 (重要 - 完整功能)**：
- 任务3：数据扩展和优化（处理剩余PDF，完善知识图谱）
- 任务6.3-6.4：结果展示和会话管理功能
- 任务7.1-7.2：API接口和错误处理
- 任务8.2-8.3：集成测试和属性基测试
- 任务9.1-9.2：演示准备和视频制作

**P2 (可选 - 增强功能)**：
- 任务7.3：API文档和测试
- 任务8.4：性能测试
- 任务9.3：文档完善
- 任务10：部署和运维
- 任务11-12：扩展功能和后续迭代

**策略调整说明**：
- **利用现有数据**：直接使用data/目录下的128个PDF文档，避免创建人工样例
- **分层知识图谱**：先构建最小可行版本（文档级结构），再增加概念级细粒度信息
- **分工明确**：RAG负责内容检索和引用，知识图谱负责学习路径和推荐逻辑
- **渐进式开发**：优先处理前5个讲义建立可工作系统，后续扩展到全量数据

## 里程碑检查点

- **第1天结束** ✅：任务1完成，环境搭建就绪，外部服务连接验证完成
- **第2天结束** ✅：任务2完成，基于现有 results/*.md 建立初始知识库，前5讲+作业+答案已处理
- **第4天结束**：任务4-5完成，核心Agent系统和Skill功能实现，基于真实数据的对话功能可演示
- **第6天结束**：任务6-7完成，Web界面和API接口就绪，完整功能演示版本
- **第7天结束**：任务8-9完成，测试验证和演示准备，最终交付版本

**当前状态**：
- ✅ 项目初始化完成（目录结构、环境配置、服务连接测试）
- ✅ 任务2完成（文档索引、清洗与章节、切片与Chroma、知识图谱 2.4.1～2.4.3；详见 docs/task2）
- 🎯 下一步：任务4 核心 Agent 系统与任务5 教育 Skill